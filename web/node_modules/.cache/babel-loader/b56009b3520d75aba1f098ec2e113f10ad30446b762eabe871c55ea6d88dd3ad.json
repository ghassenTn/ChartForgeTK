{"ast":null,"code":"var _jsxFileName = \"/home/ghassen/chartlib/web/src/components/ChartCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardActions from '@mui/material/CardActions';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction ChartCard({\n  chartType\n}) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chartImage, setChartImage] = useState(null);\n  const fetchChart = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_URL}/chart/${chartType}`);\n      if (response.data.success) {\n        setChartImage(response.data.image);\n      } else {\n        setError('Failed to load chart');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchChart();\n  }, [chartType]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    component: motion.div,\n    layout: true,\n    sx: {\n      background: 'transparent',\n      boxShadow: 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          gap: 2\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            height: 400\n          },\n          children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(motion.img, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            duration: 0.5\n          },\n          src: `data:image/png;base64,${chartImage}`,\n          alt: `${chartType} chart`,\n          style: {\n            maxWidth: '100%',\n            height: 'auto',\n            borderRadius: '8px',\n            boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      sx: {\n        justifyContent: 'center',\n        pb: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 22\n        }, this),\n        onClick: fetchChart,\n        disabled: loading,\n        sx: {\n          borderRadius: '20px',\n          px: 3,\n          py: 1,\n          textTransform: 'none',\n          fontSize: '1rem'\n        },\n        children: \"Refresh Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n_s(ChartCard, \"7cnqM3ShHnhRJpUDwUWCdwA9XNg=\");\n_c = ChartCard;\nexport default ChartCard;\nvar _c;\n$RefreshReg$(_c, \"ChartCard\");","map":{"version":3,"names":["React","useState","useEffect","Box","Card","CardContent","CardActions","Button","Typography","CircularProgress","RefreshIcon","motion","axios","jsxDEV","_jsxDEV","API_URL","ChartCard","chartType","_s","loading","setLoading","error","setError","chartImage","setChartImage","fetchChart","response","get","data","success","image","err","message","component","div","layout","sx","background","boxShadow","children","display","flexDirection","alignItems","gap","justifyContent","height","fileName","_jsxFileName","lineNumber","columnNumber","color","img","initial","opacity","animate","transition","duration","src","alt","style","maxWidth","borderRadius","pb","variant","startIcon","onClick","disabled","px","py","textTransform","fontSize","_c","$RefreshReg$"],"sources":["/home/ghassen/chartlib/web/src/components/ChartCard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardActions from '@mui/material/CardActions';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\n\nconst API_URL = 'http://localhost:5000/api';\n\nfunction ChartCard({ chartType }) {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [chartImage, setChartImage] = useState(null);\n\n  const fetchChart = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await axios.get(`${API_URL}/chart/${chartType}`);\n      if (response.data.success) {\n        setChartImage(response.data.image);\n      } else {\n        setError('Failed to load chart');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchChart();\n  }, [chartType]);\n\n  return (\n    <Card\n      component={motion.div}\n      layout\n      sx={{\n        background: 'transparent',\n        boxShadow: 'none',\n      }}\n    >\n      <CardContent>\n        <Box\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            gap: 2,\n          }}\n        >\n          {loading ? (\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                height: 400,\n              }}\n            >\n              <CircularProgress />\n            </Box>\n          ) : error ? (\n            <Typography color=\"error\">{error}</Typography>\n          ) : (\n            <motion.img\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ duration: 0.5 }}\n              src={`data:image/png;base64,${chartImage}`}\n              alt={`${chartType} chart`}\n              style={{\n                maxWidth: '100%',\n                height: 'auto',\n                borderRadius: '8px',\n                boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n              }}\n            />\n          )}\n        </Box>\n      </CardContent>\n      <CardActions sx={{ justifyContent: 'center', pb: 2 }}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<RefreshIcon />}\n          onClick={fetchChart}\n          disabled={loading}\n          sx={{\n            borderRadius: '20px',\n            px: 3,\n            py: 1,\n            textTransform: 'none',\n            fontSize: '1rem',\n          }}\n        >\n          Refresh Data\n        </Button>\n      </CardActions>\n    </Card>\n  );\n}\n\nexport default ChartCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}